<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<style>
    section{
        display: grid;
        grid-template-columns: repeat(3, 50px);
        grid-template-rows: repeat(3, 50px);
    }
    div{
        border: 1px solid black;
    }
    div:nth-child(5){
        background-color: aquamarine;  
    }
</style>
<body>
    row: <input type="number" value="3">

    <section>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </section>
</body>
</html>
<script>
    // 0) 현재 색이 있는 위치를 변수에 저장해놓아야 한다
    // 1) 모든 div 를 가져온다
    // 2) document에 keydown 이벤트를 건다
    // 3) keydown 이벤트에서는 이동되는 해당 div의 style의 bgcolor를 변경
    // 4) 나머지 div는 bg컬러를 제거하면 되겠다
    let row = 3;
    let position = 5 - 1; // 현재 위치는 5이지만 index로 사용할 거라서 -1 한다
    const input = document.querySelector('input');
    const section = document.querySelector('section');
    let divs = document.getElementsByTagName('div');
    // getElement.. 로 가져오는 요소들은 살아있는 객체 배열 형태로 가져온다.
    // querySelectorAll 는 원래 상태를 쭉 유지한다


    input.onchange = () => {
        row = input.value;
        section.innerHTML = '';
        for(let i = 0; i < row * row; i++){
            const newDiv = document.createElement('div');
            section.appendChild(newDiv);
        }
        section.style.gridTemplateColumns = `repeat(${row}, 50px)`;
        section.style.gridTemplateRows = `repeat(${row}, 50px)`;
        divs = document.getElementsByTagName('div');
    }

    document.onkeydown = event => {
        switch(event.key){
            case 'ArrowRight':
                if((position + 1) % row === 0){
                    break;
                }
                divs[position + 1].style.backgroundColor = 'red';
                divs[position].style.backgroundColor = 'unset';
                position++; // 현재 위치값 조정
                break;
            case 'ArrowLeft':
                if(position % row === 0){
                    break;
                }
                divs[position - 1].style.backgroundColor = 'red';
                divs[position].style.backgroundColor = 'unset';
                position--; // 현재 위치값 조정
                break;
            case 'ArrowUp':
                if(position < row){
                    break;
                }
                divs[position - row].style.backgroundColor = 'red';
                divs[position].style.backgroundColor = 'unset';
                position -= row; // 현재 위치값 조정
                break;
            case 'ArrowDown':
                if(position > divs.length - 1 - row){
                    break;
                }
                divs[position + row].style.backgroundColor = 'red';
                divs[position].style.backgroundColor = 'unset';
                position += row; // 현재 위치값 조정
                break;
        }        
    }









</script>