<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script>

// 3. 프로미스로 해결가능

const promise = new Promise(promise_func);

// 실패했을 때만 작동하는
promise.catch(rejected);

// 매개변수에 따라서
promise.then(fullfiled, rejected);
promise.then(rejected);



// fullfiled는 비동기 처리의 실행 성공 결과 값(value)를 받을 수 있다
function fullfiled(value){
    console.log('성공!:', value);
}
// rejected는 실패의 이유(reason) 혹은 실패결과 값을 받을 수 있다
function rejected(reason){
    console.log('실패ㅠ:', reason);
}

function promise_func(resolve, reject){
    console.log('프로미스 ^-^');
    try{
        // 오류 코드
        // const id = document.getElementById('ㅋ').id;

        // 오류 안나는 코드
        const result = 1 + 1;
        //성공했을 때는 resolve를 실행시킨다
        resolve(result);
    }
        // 실패했을 때는 reject를 실행시킨다
    catch (e){
        reject(e);
    }
}

</script>